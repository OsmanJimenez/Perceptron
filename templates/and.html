<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>Perceptron Simple</title>
    <!-- Preloader -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/preloader.css') }}" />
  <!-- MDB icon -->
  <link rel="icon" href="{{ url_for('static', filename='img/perce.ico') }}" type="image/x-icon" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" />
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" />
  <!-- MDB -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/mdb.min.css') }}" />
  <!-- Custom styles -->
  <style></style>
</head>

<body>

  <div class="loader-page">
    <div class="boxes">
      <div class="box">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
      <div class="box">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
      <div class="box">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
      <div class="box">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  </div>

  <nav>
    <div class="card text-center">
      <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
          <li class="nav-item">
            <a class="nav-link active" aria-current="true" href="/">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#!">Acerca de</a>
          </li>
        </ul>
      </div>
    </div>
  <nav>
  
  <div class="card-body">
    <h5 class="card-title text-center">Perceptron Unicapa</h5>
    <p class="card-text text-right">
      <a href="/and" type="button" class="btn btn-outline-success">Actualizar</a>
      <button type="button" class="btn btn-outline-primary" onclick="exportTableToExcel('tblData')">Descargar</button>
      <button type="button" class="btn btn-outline-info" data-toggle="modal"
        data-target="#exampleModal4">Comprobar</button>
    </p>

    <img src="{{ url_for('static', filename='img/perceptron.webp') }}" class="img-fluid rounded"
      style="width: 100%; height: 350px" alt="...">

    <div class="mx-auto" style="width: 200px;height: 20px;"></div>

    <div class="row">

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.0 |int() }}" readonly/>
          <label class="form-label" for="typeText">Patrón</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.1|int() }}" readonly/>
          <label class="form-label" for="typeText">X1</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.2|int() }}" readonly/>
          <label class="form-label" for="typeText">X2</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.3|round(3) }}" readonly/>
          <label class="form-label" for="typeText">P1</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.4|round(3) }}" readonly/>
          <label class="form-label" for="typeText">P2</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.5|round(3)}}" readonly/>
          <label class="form-label" for="typeText">U</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.6|int() }}" readonly/>
          <label class="form-label" for="typeText">D</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.7|round(3)}}" readonly/>
          <label class="form-label" for="typeText">Y</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.8|int() }}" readonly/>
          <label class="form-label" for="typeText">F(x)</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.9|round(3) }}" readonly/>
          <label class="form-label" for="typeText">n</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.10|int() }}" readonly/>
          <label class="form-label" for="typeText">Error</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.11|round(3) }}" readonly/>
          <label class="form-label" for="typeText">Del1</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.12|round(3) }}" readonly/>
          <label class="form-label" for="typeText">Del2</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.13|round(3) }}" readonly/>
          <label class="form-label" for="typeText">Pe1</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.14|round(3) }}" readonly/>
          <label class="form-label" for="typeText">Pe2</label>
        </div>
      </div>

      <div class="col-sm">
        <div class="form-outline">
          <input type="text" id="typeText" class="form-control" value="{{ compu_and2.15|round(3) }}" readonly/>
          <label class="form-label" for="typeText">Um</label>
        </div>
      </div>

    </div>
    
    <table class="table" id="tblData">
      <thead>
        <tr>
          <th scope="col">Patron</th>
          <th scope="col">X1</th>
          <th scope="col">X2</th>
          <th scope="col">P1</th>
          <th scope="col">P2</th>
          <th scope="col">u</th>
          <th scope="col">d</th>
          <th scope="col">y</th>
          <th scope="col">F(x)</th>
          <th scope="col">n</th>
          <th scope="col">Error</th>
          <th scope="col">Del 1</th>
          <th scope="col">Del 2</th>
          <th scope="col">Pe1</th>
          <th scope="col">Pe2</th>
          <th scope="col">Um</th>
          <th scope="col">Ite</th>
        </tr>
      </thead>
      <tbody>
        {% for compu in compu_and %}
        <tr>

          <td> {{ compu.0 |int() }} </td>
          <td>{{ compu.1 |int() }}</td>
          <td>{{ compu.2 |int() }}</td>
          <td>{{ compu.3 |round(3) }}</td>
          <td>{{ compu.4 |round(3) }}</td>
          <td>{{ compu.5 |round(3) }}</td>
          <td>{{ compu.6 |int() }}</td>
          <td>{{ compu.7 |round(3) }}</td>
          <td>{{ compu.8 |int() }}</td>
          <td>{{ compu.9 |round(3) }}</td>
          <td>{{ compu.10 |int() }}</td>
          <td>{{ compu.11 |round(3) }}</td>
          <td>{{ compu.12 |round(3) }}</td>
          <td>{{ compu.13 |round(3) }}</td>
          <td>{{ compu.14 |round(3) }}</td>
          <td>{{ compu.15 |round(3) }}</td>
          <td>{{ compu.16 |int() }}</td>
        </tr>
        {% endfor %}

      </tbody>
    </table>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal4" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Comprobar Perceptron Unicapa Compuerta AND</h5>

        </div>
        <div class="modal-body">
          <div class="row">
              <div class="col-sm">
                <img src="{{ url_for('static', filename='img/perceptron.webp') }}" class="img-fluid rounded"
                  style="width: 100%; height: 350px" alt="...">
              </div>
              <div class="col-sm">
                <table class="table">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col">Patrón</th>
          <th scope="col">X1</th>
          <th scope="col">X2</th>
          <th scope="col">D</th>
        </tr>
      </thead>
      <tbody>
        {% for compu3 in compu_and3 %}
        <tr>
          <td> <button type="button" class="btn btn-outline-success" style="display:none" id="{{ compu3.0 }}"><i class="fas fa-angle-double-right"></i></button> </td>
          <td>{{ compu3.0 |int() }}</td>
          <td>{{ compu3.1 |int() }}</td>
          <td>{{ compu3.2 |int() }}</td>
          <td>{{ compu3.3 |int() }}</td>
        </tr>
         {% endfor %} 

      </tbody>
    </table>
              </div>
          </div>
          <div class="container">
            <div class="row" style="margin-top: 20px;">
              <div class="col-sm">
                <label for="x1" class="form-label">X1:</label>
                <select id="x1" class="form-select">
                  <option>0</option>
                  <option>1</option>
                </select>
              </div>
              <div class="col-sm">
                <label for="x2" class="form-label">X2:</label>
                <select id="x2" class="form-select">
                  <option>0</option>
                  <option>1</option>
                </select>
              </div>
              <div class="col-sm">
                <button type="button" class="btn btn-outline-success" style="margin-top: 35px;" value="Comprobar" onclick="comprobar()">Comprobar</button>
              </div>
              <div class="col-sm">
                <label for="resultado" class="form-label">Resultado:</label>
                <input type="text" class="form-control" id="resultado" readonly>
              </div>
            </div>
          </div>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

</body>

<!-- MDB -->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/mdb.min.js') }}"></script>

<!-- Custom scripts -->
<script type="text/javascript">

  function exportTableToExcel(tableID, filename = ''){
      var downloadLink;
      var dataType = 'application/vnd.ms-excel';
      var tableSelect = document.getElementById(tableID);
      var tableHTML = tableSelect.outerHTML.replace(/ /g, '%20');
      
      filename = filename?filename+'.xls':'perceptrón_simple.xls';

      downloadLink = document.createElement("a");
      
      document.body.appendChild(downloadLink);
      
      if(navigator.msSaveOrOpenBlob){
          var blob = new Blob(['ufeff', tableHTML], {
              type: dataType
          });
          navigator.msSaveOrOpenBlob( blob, filename);
      }else{
          downloadLink.href = 'data:' + dataType + ', ' + tableHTML;
      
          downloadLink.download = filename;

          downloadLink.click();
      }
  }

  function comprobar(){
    X1 = document.getElementById("x1").value;
    X2 = document.getElementById("x2").value;

    if(X1=="0" && X2=="0"){
      document.getElementById("resultado").value = "0";
      document.getElementById("1").style.display = "inline";
      document.getElementById("2").style.display = "none";
      document.getElementById("3").style.display = "none";
      document.getElementById("4").style.display = "none";
    }else if((X1=="0" && X2=="1")){
      document.getElementById("resultado").value = "0";
      document.getElementById("1").style.display = "none";
      document.getElementById("2").style.display = "inline";
      document.getElementById("3").style.display = "none";
      document.getElementById("4").style.display = "none";
    }else if((X1=="1" && X2=="0")){
      document.getElementById("resultado").value = "0";
      document.getElementById("1").style.display = "none";
      document.getElementById("2").style.display = "none";
      document.getElementById("3").style.display = "inline";
      document.getElementById("4").style.display = "none";
    }else if((X1=="1" && X2=="1")){
      document.getElementById("resultado").value = "1";
      document.getElementById("1").style.display = "none";
      document.getElementById("2").style.display = "none";
      document.getElementById("3").style.display = "none";
      document.getElementById("4").style.display = "inline";
    }
  }
</script>

<script type="text/javascript">
  $(window).on('load', function () {
    setTimeout(function () {
      $(".loader-page").css({
        visibility: "hidden",
        opacity: "0"
      })
    }, 2000);

  });
</script>

<script type="text/javascript">
  
</script>

</html>